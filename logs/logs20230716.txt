2023-07-16 00:04:01.003 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:04:01.030 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 27.5129ms
2023-07-16 00:04:01.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:04:01.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.3989ms
2023-07-16 00:04:02.071 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:04:02.083 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 11.9999ms
2023-07-16 00:04:34.702 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:04:34.718 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.6190ms
2023-07-16 00:04:35.088 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:04:35.088 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2772ms
2023-07-16 00:04:35.431 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:04:35.460 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.0674ms
2023-07-16 00:04:56.745 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 68
2023-07-16 00:04:56.754 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 00:04:56.763 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:04:56.816 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:05:00.057 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:05:00.582 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:05:00.597 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 3774.5933ms
2023-07-16 00:05:00.598 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:05:00.613 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 68 - 200 - application/json;+charset=utf-8 3868.4972ms
2023-07-16 00:05:20.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:05:20.347 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 00:05:20.350 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 00:05:20.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 500 - text/plain;+charset=utf-8 29.3868ms
2023-07-16 00:09:57.454 +07:00 [INF] Application is shutting down...
2023-07-16 00:14:52.288 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 00:14:52.470 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 00:14:52.473 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 00:14:52.474 +07:00 [INF] Hosting environment: Development
2023-07-16 00:14:52.474 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 00:14:53.107 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:14:53.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 389.7882ms
2023-07-16 00:14:53.844 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:14:53.851 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 5.1819ms
2023-07-16 00:14:54.307 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:14:54.720 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 413.0910ms
2023-07-16 00:15:17.229 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:15:17.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 24.7862ms
2023-07-16 00:15:17.594 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:15:17.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 3.9041ms
2023-07-16 00:15:18.056 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:15:18.078 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 21.6003ms
2023-07-16 00:15:30.665 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 68
2023-07-16 00:15:30.671 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 00:15:30.812 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:15:30.850 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:15:32.370 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:15:32.569 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:15:32.583 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 1725.1477ms
2023-07-16 00:15:32.584 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:15:32.603 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 68 - 200 - application/json;+charset=utf-8 1938.3457ms
2023-07-16 00:15:49.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:15:49.912 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:15:49.918 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:15:49.919 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 20.3164ms
2023-07-16 00:15:54.441 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:15:54.448 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:15:54.546 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:15:54.568 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:15:54.569 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 127.5678ms
2023-07-16 00:15:57.829 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:15:57.831 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:15:57.832 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:15:57.837 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:15:57.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 8.5381ms
2023-07-16 00:16:05.732 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 68
2023-07-16 00:16:05.733 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:16:05.734 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:16:05.767 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:16:05.770 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:16:05.771 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 36.7106ms
2023-07-16 00:16:05.772 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:16:05.772 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 68 - 200 - application/json;+charset=utf-8 40.5277ms
2023-07-16 00:16:16.620 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:16:16.621 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:16:16.622 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:16:16.622 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:16:16.622 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 1.9100ms
2023-07-16 00:16:29.636 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:16:29.653 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.2904ms
2023-07-16 00:16:30.042 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:16:30.043 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.3201ms
2023-07-16 00:16:30.363 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:16:30.374 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.5440ms
2023-07-16 00:16:39.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:16:39.567 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.0267ms
2023-07-16 00:16:39.942 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:16:39.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.3093ms
2023-07-16 00:16:40.208 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:16:40.217 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.9080ms
2023-07-16 00:16:46.307 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 68
2023-07-16 00:16:46.308 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:16:46.318 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:16:46.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:16:46.416 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:16:46.419 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 101.0326ms
2023-07-16 00:16:46.419 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:16:46.419 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 68 - 200 - application/json;+charset=utf-8 111.6736ms
2023-07-16 00:16:49.290 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 68
2023-07-16 00:16:49.292 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:16:49.292 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:16:49.298 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:16:49.299 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:16:49.299 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 6.3056ms
2023-07-16 00:16:49.299 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:16:49.300 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 68 - 200 - application/json;+charset=utf-8 10.0212ms
2023-07-16 00:17:00.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:17:00.749 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 00:17:00.750 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:17:00.751 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:17:00.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 4.3072ms
2023-07-16 00:18:41.565 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:18:41.586 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 21.4313ms
2023-07-16 00:18:42.045 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:18:42.045 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2843ms
2023-07-16 00:18:42.409 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:18:42.421 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 12.8514ms
2023-07-16 00:19:01.084 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:19:01.103 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 19.2832ms
2023-07-16 00:19:01.419 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:19:01.419 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2803ms
2023-07-16 00:19:01.697 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:19:01.706 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.2364ms
2023-07-16 00:19:31.873 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 68
2023-07-16 00:19:31.874 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:19:31.879 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:19:31.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:19:31.888 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:19:31.892 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 12.8591ms
2023-07-16 00:19:31.892 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:19:31.892 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 68 - 200 - application/json;+charset=utf-8 19.1147ms
2023-07-16 00:19:46.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:19:46.235 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 00:19:46.236 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:19:46.237 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:19:46.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 4.3705ms
2023-07-16 00:20:20.159 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:20:20.173 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 13.8839ms
2023-07-16 00:20:21.062 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:20:21.062 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2121ms
2023-07-16 00:20:21.698 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:20:21.705 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.9160ms
2023-07-16 00:20:24.815 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:20:24.816 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.GetData (Microservice)'
2023-07-16 00:20:24.820 +07:00 [INF] Route matched with {action = "GetData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetData() on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:20:24.821 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:20:24.822 +07:00 [INF] Executed action Microservice.Controllers.UserController.GetData (Microservice) in 2.7668ms
2023-07-16 00:20:24.823 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.GetData (Microservice)'
2023-07-16 00:20:24.823 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 200 - application/json;+charset=utf-8 7.7200ms
2023-07-16 00:20:38.590 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:20:38.616 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 26.6609ms
2023-07-16 00:20:38.937 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:20:38.944 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 6.5619ms
2023-07-16 00:20:39.162 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:20:39.168 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.8080ms
2023-07-16 00:21:32.760 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:21:32.760 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:21:32.765 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:21:32.770 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:21:32.771 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:21:32.775 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 9.9806ms
2023-07-16 00:21:32.775 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:21:32.776 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 16.1460ms
2023-07-16 00:21:40.891 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:21:40.894 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:21:40.895 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:21:40.895 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:21:40.896 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 4.2590ms
2023-07-16 00:21:56.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:21:56.607 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.0348ms
2023-07-16 00:21:56.994 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:21:56.994 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2699ms
2023-07-16 00:21:57.268 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:21:57.273 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.1121ms
2023-07-16 00:22:03.593 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:22:03.594 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:22:03.601 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:22:03.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:22:03.609 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:22:03.613 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 11.6422ms
2023-07-16 00:22:03.613 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:22:03.613 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 20.0527ms
2023-07-16 00:22:16.170 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:22:16.172 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-07-16 00:22:16.173 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 00:22:16.174 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:22:16.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 3.8204ms
2023-07-16 00:26:43.669 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:26:43.692 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 22.8497ms
2023-07-16 00:26:44.170 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:26:44.171 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2344ms
2023-07-16 00:26:44.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:26:44.928 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.4810ms
2023-07-16 00:26:47.549 +07:00 [INF] Application is shutting down...
2023-07-16 00:27:07.503 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 00:27:07.660 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 00:27:07.664 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 00:27:07.664 +07:00 [INF] Hosting environment: Development
2023-07-16 00:27:07.665 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 00:27:08.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:27:08.556 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 391.5920ms
2023-07-16 00:27:08.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:27:08.930 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 5.4563ms
2023-07-16 00:27:09.400 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:27:09.759 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 358.9149ms
2023-07-16 00:27:27.686 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:27:27.713 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 28.0844ms
2023-07-16 00:27:28.156 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:27:28.159 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 3.2979ms
2023-07-16 00:27:28.350 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:27:28.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 16.6363ms
2023-07-16 00:27:30.749 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:27:30.754 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 00:27:30.802 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:27:30.835 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:27:33.547 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:27:33.769 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:27:33.786 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2944.6185ms
2023-07-16 00:27:33.788 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:27:33.808 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 3059.2881ms
2023-07-16 00:27:44.197 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:27:44.207 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:27:44.274 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:27:44.275 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 78.1350ms
2023-07-16 00:28:06.869 +07:00 [INF] Application is shutting down...
2023-07-16 00:28:25.933 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 00:28:26.188 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 00:28:26.191 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 00:28:26.192 +07:00 [INF] Hosting environment: Development
2023-07-16 00:28:26.192 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 00:28:26.850 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:28:27.199 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 353.3095ms
2023-07-16 00:28:27.600 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:28:27.614 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 11.0832ms
2023-07-16 00:28:28.177 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:28:28.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 426.3778ms
2023-07-16 00:30:21.187 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:30:21.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 19.3560ms
2023-07-16 00:30:21.531 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:30:21.533 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 2.2842ms
2023-07-16 00:30:21.909 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:30:21.917 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.7590ms
2023-07-16 00:30:30.411 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:30:30.418 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 00:30:30.458 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:30:30.499 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:30:32.323 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:30:32.532 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:30:32.548 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2042.1287ms
2023-07-16 00:30:32.549 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:30:32.564 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 2153.6900ms
2023-07-16 00:30:44.191 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:30:44.201 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:30:44.264 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:30:44.264 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 72.8257ms
2023-07-16 00:31:07.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:31:07.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 18.5993ms
2023-07-16 00:31:08.225 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:31:08.225 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.5282ms
2023-07-16 00:31:09.169 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:31:09.177 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.7712ms
2023-07-16 00:31:16.170 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:31:16.174 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:31:16.182 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:31:16.221 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:31:16.225 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:31:16.229 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 46.2032ms
2023-07-16 00:31:16.229 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:31:16.231 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 61.2045ms
2023-07-16 00:31:26.637 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:31:26.645 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:31:26.648 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:31:26.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 11.0585ms
2023-07-16 00:32:44.757 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:32:44.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 17.2600ms
2023-07-16 00:32:45.479 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:32:45.480 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.6208ms
2023-07-16 00:32:46.160 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:32:46.167 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.9050ms
2023-07-16 00:33:13.243 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:33:13.244 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:33:13.250 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:33:13.365 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:33:13.366 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:33:13.370 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 119.5099ms
2023-07-16 00:33:13.370 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:33:13.371 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 127.1153ms
2023-07-16 00:33:24.873 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:33:24.876 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:33:24.879 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:33:24.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 5.9697ms
2023-07-16 00:33:53.661 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:33:53.687 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 25.8199ms
2023-07-16 00:33:54.226 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:33:54.226 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.4146ms
2023-07-16 00:33:55.027 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:33:55.036 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.7139ms
2023-07-16 00:34:00.550 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:34:00.551 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:34:00.560 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:34:00.568 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:34:00.570 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:34:00.574 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 13.8476ms
2023-07-16 00:34:00.575 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:34:00.575 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 24.4083ms
2023-07-16 00:34:09.583 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:34:09.585 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:34:09.586 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:34:09.586 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 2.8438ms
2023-07-16 00:35:24.598 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:35:24.619 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 20.9015ms
2023-07-16 00:35:25.531 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:35:25.531 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2460ms
2023-07-16 00:35:26.146 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:35:26.152 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.8687ms
2023-07-16 00:47:00.829 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:47:00.830 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:47:00.837 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:47:00.859 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:47:00.860 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:47:00.864 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 26.6015ms
2023-07-16 00:47:00.864 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:47:00.864 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 35.2624ms
2023-07-16 00:47:11.782 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:47:11.784 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:47:11.788 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:47:11.788 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 6.0703ms
2023-07-16 00:58:04.029 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:58:04.043 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 14.1837ms
2023-07-16 00:58:04.648 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:58:04.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2401ms
2023-07-16 00:58:05.584 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:58:05.594 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.1259ms
2023-07-16 00:58:15.752 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 00:58:15.753 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:58:15.762 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 00:58:15.778 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 00:58:15.779 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 00:58:15.783 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 21.0018ms
2023-07-16 00:58:15.783 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 00:58:15.784 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 31.4335ms
2023-07-16 00:58:32.021 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 00:58:32.023 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 00:58:32.023 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 00:58:32.024 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 2.8822ms
2023-07-16 00:59:52.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 00:59:52.586 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.1232ms
2023-07-16 00:59:52.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 00:59:52.880 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.9546ms
2023-07-16 00:59:53.398 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 00:59:53.404 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.1334ms
2023-07-16 01:00:10.074 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:00:10.093 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 19.3189ms
2023-07-16 01:00:10.466 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:00:10.467 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.6282ms
2023-07-16 01:00:10.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:00:10.753 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.3651ms
2023-07-16 01:00:38.396 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 01:00:38.397 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:00:38.402 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:00:38.413 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:00:38.414 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:00:38.417 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 14.5642ms
2023-07-16 01:00:38.417 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:00:38.418 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 21.8107ms
2023-07-16 01:00:48.847 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 01:00:48.848 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 01:00:48.852 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 01:00:48.867 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 01:00:48.868 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 20.8577ms
2023-07-16 01:02:58.966 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 01:02:58.966 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:02:58.966 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:02:58.974 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:02:58.974 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:02:58.974 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 7.975ms
2023-07-16 01:02:58.975 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:02:58.975 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 9.1416ms
2023-07-16 01:03:09.448 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 01:03:09.448 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 01:03:09.477 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 01:03:09.479 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 01:03:09.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 31.1717ms
2023-07-16 01:05:20.988 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 01:05:20.990 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:05:20.990 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:05:21.000 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:05:21.001 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:05:21.002 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 11.5628ms
2023-07-16 01:05:21.002 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:05:21.002 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 14.0079ms
2023-07-16 01:05:33.866 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65
2023-07-16 01:05:33.866 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-16 01:05:33.867 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 01:05:33.868 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 01:05:33.868 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/GetData application/json 65 - 401 0 - 2.3116ms
2023-07-16 01:06:03.511 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:06:03.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.3098ms
2023-07-16 01:06:03.984 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:06:03.985 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.5937ms
2023-07-16 01:06:05.247 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:06:05.255 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.8589ms
2023-07-16 01:06:39.718 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 01:06:39.930 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 01:06:39.935 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 01:06:39.936 +07:00 [INF] Hosting environment: Development
2023-07-16 01:06:39.937 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 01:06:40.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:06:40.397 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 312.1170ms
2023-07-16 01:06:41.382 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:06:41.393 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 7.5406ms
2023-07-16 01:06:42.275 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:06:42.593 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 317.4296ms
2023-07-16 01:07:49.729 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:07:49.755 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 25.5747ms
2023-07-16 01:07:50.365 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:07:50.368 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 2.7391ms
2023-07-16 01:07:51.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:07:51.294 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 14.7243ms
2023-07-16 01:07:52.616 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:07:52.617 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 1.0959ms
2023-07-16 01:07:52.988 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:07:52.993 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 7.0646ms
2023-07-16 01:07:53.251 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:07:53.255 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.8141ms
2023-07-16 01:07:57.527 +07:00 [INF] Application is shutting down...
2023-07-16 01:08:13.944 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 01:08:14.141 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 01:08:14.149 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 01:08:14.149 +07:00 [INF] Hosting environment: Development
2023-07-16 01:08:14.149 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 01:08:14.845 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:08:15.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 434.3986ms
2023-07-16 01:08:15.724 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:08:15.728 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 3.0393ms
2023-07-16 01:08:16.310 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:08:16.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 386.0701ms
2023-07-16 01:08:37.454 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 01:08:37.464 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 01:08:37.504 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:08:37.544 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:08:39.432 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:08:39.630 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:08:39.648 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2096.1075ms
2023-07-16 01:08:39.649 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:08:39.681 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 2227.7756ms
2023-07-16 01:08:50.707 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:08:50.774 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:08:50.777 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:08:50.781 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:08:50.783 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 5.5493ms
2023-07-16 01:08:50.783 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:08:50.783 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 76.4092ms
2023-07-16 01:09:55.086 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:09:55.120 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 33.8236ms
2023-07-16 01:09:55.432 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:09:55.432 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.7928ms
2023-07-16 01:09:55.748 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:09:55.786 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 37.7391ms
2023-07-16 01:10:06.227 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 01:10:06.231 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:10:06.240 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:10:06.294 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:10:06.299 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:10:06.305 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 65.3237ms
2023-07-16 01:10:06.305 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:10:06.306 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 79.5675ms
2023-07-16 01:10:17.748 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:10:17.756 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:10:17.757 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:10:17.757 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:10:17.758 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.5705ms
2023-07-16 01:10:17.758 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:10:17.758 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 10.3035ms
2023-07-16 01:10:33.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:10:33.974 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 25.3256ms
2023-07-16 01:10:34.390 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:10:34.390 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2548ms
2023-07-16 01:10:34.720 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:10:34.741 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 21.0051ms
2023-07-16 01:10:42.207 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 01:10:42.208 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:10:42.216 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:10:42.335 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:10:42.336 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:10:42.341 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 125.1763ms
2023-07-16 01:10:42.342 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:10:42.342 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 200 - application/json;+charset=utf-8 134.7317ms
2023-07-16 01:10:53.594 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:10:53.601 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 01:10:53.605 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 01:10:53.605 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 10.6400ms
2023-07-16 01:11:18.827 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 73
2023-07-16 01:11:18.827 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:11:18.827 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:11:18.830 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:11:18.831 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:11:18.831 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 3.8092ms
2023-07-16 01:11:18.831 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:11:18.832 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 73 - 200 - application/json;+charset=utf-8 5.1788ms
2023-07-16 01:11:31.411 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:11:31.412 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:11:31.414 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:11:31.414 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:11:31.414 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.6132ms
2023-07-16 01:11:31.414 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:11:31.415 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 3.9788ms
2023-07-16 01:12:26.910 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:12:26.937 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 26.9556ms
2023-07-16 01:12:27.383 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:12:27.383 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2836ms
2023-07-16 01:12:27.714 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:12:27.724 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.2500ms
2023-07-16 01:12:42.238 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 73
2023-07-16 01:12:42.238 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:12:42.245 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 01:12:42.250 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 01:12:42.252 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 01:12:42.256 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 10.8304ms
2023-07-16 01:12:42.256 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 01:12:42.257 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 73 - 200 - application/json;+charset=utf-8 19.0397ms
2023-07-16 01:12:50.408 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:12:50.411 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-07-16 01:12:50.412 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 01:12:50.412 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 3.7230ms
2023-07-16 01:29:42.365 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:29:42.366 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-07-16 01:29:42.366 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 01:29:42.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 1.4320ms
2023-07-16 01:29:50.589 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:29:50.611 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 22.1860ms
2023-07-16 01:29:51.060 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:29:51.060 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2466ms
2023-07-16 01:29:51.447 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:29:51.455 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.9118ms
2023-07-16 01:30:02.222 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:02.225 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:02.227 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:02.227 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:02.228 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.7821ms
2023-07-16 01:30:02.228 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:02.228 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 6.4096ms
2023-07-16 01:30:07.274 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:07.277 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:07.277 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:07.277 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:07.278 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.45ms
2023-07-16 01:30:07.278 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:07.278 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 3.7395ms
2023-07-16 01:30:08.382 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:08.383 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:08.384 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:08.384 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:08.384 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.2284ms
2023-07-16 01:30:08.384 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:08.384 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 2.1736ms
2023-07-16 01:30:09.380 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:09.382 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:09.382 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:09.382 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:09.382 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.3991ms
2023-07-16 01:30:09.383 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:09.383 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 2.4398ms
2023-07-16 01:30:10.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:10.256 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:10.256 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:10.257 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:10.257 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.1989ms
2023-07-16 01:30:10.257 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:10.257 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.7802ms
2023-07-16 01:30:12.049 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:12.050 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:12.050 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:12.050 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:12.051 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.4582ms
2023-07-16 01:30:12.051 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:12.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.8179ms
2023-07-16 01:30:16.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:16.552 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:16.552 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:16.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:16.552 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.1973ms
2023-07-16 01:30:16.552 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:16.552 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.6175ms
2023-07-16 01:30:17.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:17.674 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:17.674 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:17.674 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:17.675 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.7974ms
2023-07-16 01:30:17.675 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:17.675 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 2.6568ms
2023-07-16 01:30:19.140 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:19.141 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:19.141 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:19.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:19.141 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.214ms
2023-07-16 01:30:19.141 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:19.141 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.1890ms
2023-07-16 01:30:20.142 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:20.143 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:20.143 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:20.143 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:20.144 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.2309ms
2023-07-16 01:30:20.144 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:20.144 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.4264ms
2023-07-16 01:30:21.096 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:21.098 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:21.099 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:21.099 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:21.100 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.619ms
2023-07-16 01:30:21.100 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:21.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 4.8496ms
2023-07-16 01:30:22.224 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:22.225 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:22.226 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:22.226 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:22.226 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.216ms
2023-07-16 01:30:22.226 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:22.226 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.9756ms
2023-07-16 01:30:23.389 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:23.390 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:23.390 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:23.390 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:23.390 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.1777ms
2023-07-16 01:30:23.390 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:23.390 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.2665ms
2023-07-16 01:30:28.650 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:28.660 +07:00 [INF] Failed to validate the token.
System.ArgumentException: IDX12729: Unable to decode the header '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. jwtEncodedString: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
 ---> Microsoft.IdentityModel.Json.JsonReaderException: Bad JSON escape sequence: \�. Path 'alg', line 2, position 20.
   at Microsoft.IdentityModel.Json.JsonTextReader.ReadStringIntoBuffer(Char quote)
   at Microsoft.IdentityModel.Json.JsonTextReader.ParseValue()
   at Microsoft.IdentityModel.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.PopulateDictionary(IDictionary dictionary, JsonReader reader, JsonDictionaryContract contract, JsonProperty containerProperty, String id)
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Microsoft.IdentityModel.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Microsoft.IdentityModel.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at System.IdentityModel.Tokens.Jwt.JsonExtensions.DeserializeJwtHeader(String jsonString)
   at System.IdentityModel.Tokens.Jwt.JwtHeader.Base64UrlDeserialize(String base64UrlEncodedJsonString)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken.Decode(String[] tokenParts, String rawData)
   --- End of inner exception stack trace ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken.Decode(String[] tokenParts, String rawData)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-16 01:30:28.673 +07:00 [INF] Bearer was not authenticated. Failure message: IDX12729: Unable to decode the header '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. jwtEncodedString: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2023-07-16 01:30:28.674 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 01:30:28.684 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-16 01:30:28.684 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 401 0 - 34.4281ms
2023-07-16 01:30:34.780 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 01:30:34.781 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:34.781 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 01:30:34.781 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 01:30:34.782 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.5055ms
2023-07-16 01:30:34.782 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 01:30:34.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 2.2519ms
2023-07-16 01:32:50.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 01:32:50.536 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 17.9813ms
2023-07-16 01:32:50.948 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 01:32:50.949 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.4006ms
2023-07-16 01:32:51.282 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 01:32:51.291 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.9865ms
2023-07-16 02:57:11.720 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 02:57:11.962 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 02:57:11.966 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 02:57:11.966 +07:00 [INF] Hosting environment: Development
2023-07-16 02:57:11.967 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 02:57:12.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 02:57:13.006 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 348.7413ms
2023-07-16 02:57:13.431 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 02:57:13.440 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 8.6239ms
2023-07-16 02:58:27.525 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 02:58:27.525 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.5944ms
2023-07-16 02:58:29.149 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 02:58:29.981 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 831.8349ms
2023-07-16 02:58:37.116 +07:00 [INF] Application is shutting down...
2023-07-16 02:58:53.627 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 02:58:53.855 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 02:58:53.862 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 02:58:53.863 +07:00 [INF] Hosting environment: Development
2023-07-16 02:58:53.863 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 02:58:54.570 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 02:58:54.890 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 331.4266ms
2023-07-16 02:58:55.312 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 02:58:55.318 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 4.6380ms
2023-07-16 02:58:55.757 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 02:58:56.131 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 374.4362ms
2023-07-16 03:02:16.208 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 03:02:16.216 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 03:02:17.095 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:02:17.131 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:02:20.122 +07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Email], [t].[Password], [t].[Username], [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
    FROM [User] AS [u]
    WHERE [u].[Username] = @__usernameLogin_0
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[Id] = [r].[Id_User]
ORDER BY [t].[Id]
2023-07-16 03:02:20.337 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-07-16 03:02:20.348 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 3208.0281ms
2023-07-16 03:02:20.349 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:02:20.376 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 400 - text/plain;+charset=utf-8 4168.2733ms
2023-07-16 03:03:08.825 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 03:03:08.829 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:03:08.830 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:03:08.881 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Email], [t].[Password], [t].[Username], [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
    FROM [User] AS [u]
    WHERE [u].[Username] = @__usernameLogin_0
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[Id] = [r].[Id_User]
ORDER BY [t].[Id]
2023-07-16 03:03:08.885 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-07-16 03:03:08.886 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 54.9337ms
2023-07-16 03:03:08.886 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:03:08.886 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 400 - text/plain;+charset=utf-8 61.9373ms
2023-07-16 03:03:10.272 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:03:10.312 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 39.5865ms
2023-07-16 03:03:10.686 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:03:10.687 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.6722ms
2023-07-16 03:03:10.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:03:10.973 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 14.4273ms
2023-07-16 03:03:13.645 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 74
2023-07-16 03:03:13.669 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:03:13.683 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:03:13.780 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Email], [t].[Password], [t].[Username], [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
    FROM [User] AS [u]
    WHERE [u].[Username] = @__usernameLogin_0
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[Id] = [r].[Id_User]
ORDER BY [t].[Id]
2023-07-16 03:03:14.172 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:03:14.189 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 506.3455ms
2023-07-16 03:03:14.190 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:03:14.192 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getUsername.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 03:03:14.267 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 74 - 500 - text/plain;+charset=utf-8 621.7836ms
2023-07-16 03:10:56.157 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:10:56.177 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 19.7400ms
2023-07-16 03:10:56.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:10:56.887 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2733ms
2023-07-16 03:10:58.111 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:10:58.119 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.3229ms
2023-07-16 03:11:08.395 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:11:08.395 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:11:08.402 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:11:08.430 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:11:08.443 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 40.0497ms
2023-07-16 03:11:08.443 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:11:08.443 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<Roles>.Find' was of type 'int', which does not match the property type of 'string'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(IKey key, Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.Find(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Find(Object[] keyValues)
   at Microservice.Controllers.UserController.Login(LoginViewModel loginView)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 03:11:08.451 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 500 - text/plain;+charset=utf-8 55.6173ms
2023-07-16 03:13:51.457 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:13:51.457 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.3130ms
2023-07-16 03:13:52.969 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:13:52.974 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.9924ms
2023-07-16 03:14:38.099 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:14:38.121 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 22.0244ms
2023-07-16 03:14:38.580 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:14:38.581 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.3319ms
2023-07-16 03:14:38.909 +07:00 [INF] Application is shutting down...
2023-07-16 03:14:55.770 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 03:14:55.949 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 03:14:55.952 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 03:14:55.953 +07:00 [INF] Hosting environment: Development
2023-07-16 03:14:55.953 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 03:14:56.557 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:14:56.880 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 327.9278ms
2023-07-16 03:14:57.370 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:14:57.380 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 4.1021ms
2023-07-16 03:14:57.880 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:14:58.301 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 420.3550ms
2023-07-16 03:15:04.159 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:15:04.166 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 03:15:04.206 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:15:04.252 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:15:06.155 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:15:06.369 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:15:06.388 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2127.2585ms
2023-07-16 03:15:06.389 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:15:06.407 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 200 - application/json;+charset=utf-8 2248.0288ms
2023-07-16 03:16:40.595 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 03:16:40.911 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 03:16:40.915 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 03:16:40.916 +07:00 [INF] Hosting environment: Development
2023-07-16 03:16:40.916 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 03:16:41.387 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:16:41.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 316.2885ms
2023-07-16 03:16:42.286 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:16:42.293 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 6.1951ms
2023-07-16 03:16:44.418 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:16:44.674 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 256.0346ms
2023-07-16 03:16:53.391 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:16:53.400 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 03:16:53.436 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:16:53.469 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:16:55.166 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:16:55.304 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__getId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [r].[Id_User] = @__getId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Roles] AS [r]
2023-07-16 03:16:55.420 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:16:55.440 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 1962.0902ms
2023-07-16 03:16:55.441 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:16:55.457 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 200 - application/json;+charset=utf-8 2065.8517ms
2023-07-16 03:17:02.383 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:17:02.386 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:17:02.387 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:17:02.413 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:17:02.418 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__getId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [r].[Id_User] = @__getId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Roles] AS [r]
2023-07-16 03:17:02.420 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:17:02.421 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 34.5999ms
2023-07-16 03:17:02.422 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:17:02.422 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 200 - application/json;+charset=utf-8 39.6187ms
2023-07-16 03:17:15.988 +07:00 [INF] Application is shutting down...
2023-07-16 03:17:27.690 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 03:17:27.885 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 03:17:27.889 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 03:17:27.890 +07:00 [INF] Hosting environment: Development
2023-07-16 03:17:27.890 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 03:17:28.573 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:17:29.015 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 452.1694ms
2023-07-16 03:17:29.498 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:17:29.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 12.9971ms
2023-07-16 03:17:30.121 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:17:30.533 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.7593ms
2023-07-16 03:17:33.420 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:17:33.432 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 03:17:33.489 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:17:33.542 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:17:35.672 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:17:35.808 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__getId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [r].[Id_User] = @__getId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Roles] AS [r]
2023-07-16 03:17:35.931 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:17:35.955 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2406.1516ms
2023-07-16 03:17:35.957 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:17:35.983 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 200 - application/json;+charset=utf-8 2563.2046ms
2023-07-16 03:19:38.618 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 03:19:38.840 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 03:19:38.846 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 03:19:38.846 +07:00 [INF] Hosting environment: Development
2023-07-16 03:19:38.846 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 03:19:50.859 +07:00 [INF] Application is shutting down...
2023-07-16 03:20:01.894 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 03:20:02.075 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 03:20:02.078 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 03:20:02.079 +07:00 [INF] Hosting environment: Development
2023-07-16 03:20:02.079 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 03:20:02.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:20:03.016 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 360.4682ms
2023-07-16 03:20:03.370 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:20:03.398 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 21.3747ms
2023-07-16 03:20:03.862 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:20:04.290 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 427.8037ms
2023-07-16 03:20:08.156 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:20:08.164 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 03:20:08.217 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:20:08.269 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:20:10.614 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:20:10.756 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__getId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getId_0
2023-07-16 03:20:10.934 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Microservice.Models.Roles, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:20:10.966 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2688.6386ms
2023-07-16 03:20:10.970 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:20:10.972 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getInfoUser.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 03:20:11.086 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 500 - text/plain;+charset=utf-8 2929.3480ms
2023-07-16 03:20:35.308 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:20:35.313 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:20:35.315 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:20:35.347 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:20:35.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__getId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getId_0
2023-07-16 03:20:35.353 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Microservice.Models.Roles, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:20:35.355 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 39.5469ms
2023-07-16 03:20:35.356 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:20:35.357 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getInfoUser.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 03:20:35.405 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 500 - text/plain;+charset=utf-8 97.6321ms
2023-07-16 03:42:57.808 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 03:42:58.046 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 03:42:58.050 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 03:42:58.051 +07:00 [INF] Hosting environment: Development
2023-07-16 03:42:58.051 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 03:42:58.290 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 03:42:58.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 372.3261ms
2023-07-16 03:43:00.863 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 03:43:00.869 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 4.8386ms
2023-07-16 03:43:02.754 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 03:43:03.138 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 75
2023-07-16 03:43:03.147 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 03:43:03.172 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 417.4974ms
2023-07-16 03:43:03.222 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:43:03.297 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 03:43:05.399 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 03:43:05.610 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[Microservice.Models.Roles, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 03:43:05.637 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 03:43:05.688 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 2386.2252ms
2023-07-16 03:43:05.689 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 03:43:05.691 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getRole.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 03:43:05.757 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 75 - 500 - text/plain;+charset=utf-8 2618.7913ms
2023-07-16 13:56:28.271 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 13:56:28.515 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 13:56:28.522 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 13:56:28.525 +07:00 [INF] Hosting environment: Development
2023-07-16 13:56:28.525 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 13:56:29.325 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 13:56:29.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 349.8251ms
2023-07-16 13:56:30.071 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 13:56:30.075 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 3.8357ms
2023-07-16 13:56:30.857 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 13:56:31.251 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 394.1567ms
2023-07-16 14:09:37.552 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:09:37.562 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 14:09:38.622 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:09:38.771 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:09:42.356 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:09:42.809 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[Microservice.Models.Roles, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:09:42.836 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:09:42.888 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 4111.6957ms
2023-07-16 14:09:42.893 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:09:42.895 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getRole.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 14:09:43.000 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 500 - text/plain;+charset=utf-8 5447.9940ms
2023-07-16 14:10:14.358 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:10:14.366 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:10:14.367 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:10:14.412 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:10:14.417 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[Microservice.Models.Roles, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:10:14.421 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:10:14.424 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 56.9213ms
2023-07-16 14:10:14.425 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:10:14.425 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getRole.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 14:10:14.499 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 500 - text/plain;+charset=utf-8 140.9923ms
2023-07-16 14:10:18.222 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:10:18.245 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:10:18.245 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:10:18.374 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:10:18.375 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[Microservice.Models.Roles, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:10:18.379 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleId], [r].[Id_User], [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:10:18.381 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 135.2697ms
2023-07-16 14:10:18.381 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:10:18.382 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.getRole.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.IdUserNavigation.Roles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 14:10:18.418 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 500 - text/plain;+charset=utf-8 196.3624ms
2023-07-16 14:10:59.595 +07:00 [INF] Application is shutting down...
2023-07-16 14:11:13.464 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 14:11:13.624 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 14:11:13.628 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 14:11:13.629 +07:00 [INF] Hosting environment: Development
2023-07-16 14:11:13.629 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 14:11:14.209 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:11:14.554 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 357.6909ms
2023-07-16 14:11:14.900 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:11:14.909 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 7.9856ms
2023-07-16 14:11:15.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:11:15.703 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 337.3985ms
2023-07-16 14:11:23.988 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:11:23.996 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 14:11:24.036 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:11:24.072 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:11:25.674 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:11:25.881 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:11:25.897 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 1817.1425ms
2023-07-16 14:11:25.898 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:11:25.922 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 1934.1527ms
2023-07-16 14:15:54.037 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 14:15:54.238 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 14:15:54.242 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 14:15:54.242 +07:00 [INF] Hosting environment: Development
2023-07-16 14:15:54.242 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 14:15:54.372 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:15:54.666 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 299.8166ms
2023-07-16 14:15:55.111 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:15:55.116 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 4.0810ms
2023-07-16 14:15:57.869 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:15:58.235 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 365.8189ms
2023-07-16 14:16:01.378 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:16:01.384 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 14:16:01.422 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:16:01.458 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:16:03.158 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:16:03.361 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:16:03.390 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:16:03.400 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 1935.3697ms
2023-07-16 14:16:03.400 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:16:03.416 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 2037.3859ms
2023-07-16 14:18:16.986 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:18:17.012 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 25.8936ms
2023-07-16 14:18:17.823 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:18:17.824 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.5755ms
2023-07-16 14:18:18.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:18:18.514 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 17.2780ms
2023-07-16 14:18:56.717 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:18:56.722 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:18:56.732 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:18:56.782 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:18:56.787 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:18:56.794 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:18:56.796 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 63.1495ms
2023-07-16 14:18:56.796 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:18:56.797 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 79.8958ms
2023-07-16 14:19:28.447 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:19:28.525 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 14:19:28.527 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:19:28.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 80.4290ms
2023-07-16 14:19:30.854 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:19:30.861 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 14:19:30.862 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:19:30.862 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 7.7948ms
2023-07-16 14:19:37.683 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:19:37.701 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 17.8917ms
2023-07-16 14:19:38.017 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:19:38.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2172ms
2023-07-16 14:19:38.274 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:19:38.281 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.7615ms
2023-07-16 14:19:44.109 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:19:44.114 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2023-07-16 14:19:44.115 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:19:44.115 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 5.9262ms
2023-07-16 14:19:45.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:19:45.501 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2023-07-16 14:19:45.501 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:19:45.501 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 5.6234ms
2023-07-16 14:23:11.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:23:11.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 17.8279ms
2023-07-16 14:23:12.082 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:23:12.082 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2827ms
2023-07-16 14:23:12.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:23:12.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.4059ms
2023-07-16 14:24:09.780 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:24:09.780 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:24:09.788 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:24:09.893 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:24:09.894 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:24:09.900 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:24:09.901 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 112.8005ms
2023-07-16 14:24:09.901 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:24:09.902 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 121.6564ms
2023-07-16 14:24:24.594 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:24:24.596 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2023-07-16 14:24:24.596 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:24:24.596 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 2.4171ms
2023-07-16 14:26:00.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:26:00.483 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 20.3554ms
2023-07-16 14:26:00.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:26:00.870 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.1999ms
2023-07-16 14:26:02.253 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:26:02.259 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.3381ms
2023-07-16 14:26:23.033 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:26:23.044 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 11.3170ms
2023-07-16 14:26:23.333 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:26:23.333 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2286ms
2023-07-16 14:26:23.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:26:23.611 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.6194ms
2023-07-16 14:26:29.390 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:26:29.391 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:26:29.397 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:26:29.403 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:26:29.404 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:26:29.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:26:29.412 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 14.638ms
2023-07-16 14:26:29.412 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:26:29.412 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 22.4701ms
2023-07-16 14:26:37.685 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:26:37.687 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 14:26:37.687 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:26:37.687 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 2.0895ms
2023-07-16 14:30:39.267 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:30:39.283 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.1078ms
2023-07-16 14:30:39.941 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:30:39.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.4694ms
2023-07-16 14:30:41.671 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:30:41.677 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.7611ms
2023-07-16 14:31:00.734 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:31:00.735 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:31:00.747 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:31:00.758 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:31:00.760 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:31:00.761 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Linq.IQueryable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Linq.Expressions, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:31:00.767 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:31:00.768 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 20.8815ms
2023-07-16 14:31:00.768 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:31:00.768 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 33.6585ms
2023-07-16 14:31:10.966 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:31:10.990 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-16 14:31:10.990 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:31:10.990 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 23.4850ms
2023-07-16 14:31:29.002 +07:00 [INF] Application is shutting down...
2023-07-16 14:31:46.029 +07:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-16 14:31:46.222 +07:00 [INF] Now listening on: http://localhost:5217
2023-07-16 14:31:46.225 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-16 14:31:46.226 +07:00 [INF] Hosting environment: Development
2023-07-16 14:31:46.226 +07:00 [INF] Content root path: D:\DevWeb\.NET\Microservice\Microservice
2023-07-16 14:31:46.742 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:31:47.105 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 368.7058ms
2023-07-16 14:31:47.438 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:31:47.450 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 10.0719ms
2023-07-16 14:31:48.231 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:31:48.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.6775ms
2023-07-16 14:33:15.023 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:33:15.044 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 21.4790ms
2023-07-16 14:33:15.305 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:33:15.306 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.6715ms
2023-07-16 14:33:15.601 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:33:15.617 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 16.1320ms
2023-07-16 14:33:29.918 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:33:29.922 +07:00 [WRN] Failed to determine the https port for redirect.
2023-07-16 14:33:29.958 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:33:30.000 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:33:31.528 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:33:31.638 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:33:31.748 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:33:31.762 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 1757.4806ms
2023-07-16 14:33:31.762 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:33:31.778 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 1859.9007ms
2023-07-16 14:37:15.081 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:37:15.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 18.7596ms
2023-07-16 14:37:15.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:37:15.776 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2689ms
2023-07-16 14:37:16.685 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:37:16.695 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.1896ms
2023-07-16 14:37:32.358 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:37:32.362 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:37:32.371 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:37:32.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:37:32.416 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:37:32.432 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:37:32.437 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 65.8473ms
2023-07-16 14:37:32.437 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:37:32.439 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 81.1103ms
2023-07-16 14:37:40.905 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:37:40.979 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:37:40.981 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:37:40.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:37:40.982 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 1.1574ms
2023-07-16 14:37:40.985 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:37:40.985 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 80.5026ms
2023-07-16 14:37:53.911 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:37:53.918 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:37:53.918 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:37:53.919 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:37:53.919 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.9287ms
2023-07-16 14:37:53.920 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:37:53.920 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 8.5422ms
2023-07-16 14:40:43.587 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:40:43.606 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 18.8200ms
2023-07-16 14:40:44.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:40:44.038 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.3081ms
2023-07-16 14:40:44.657 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:40:44.666 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.4541ms
2023-07-16 14:40:57.156 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:40:57.160 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:40:57.162 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:40:57.163 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:40:57.163 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.7535ms
2023-07-16 14:40:57.163 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:40:57.164 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 7.3437ms
2023-07-16 14:40:58.540 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:40:58.545 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:40:58.546 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:40:58.546 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:40:58.549 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 3.1318ms
2023-07-16 14:40:58.549 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:40:58.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 8.7322ms
2023-07-16 14:41:09.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:41:09.445 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 23.3270ms
2023-07-16 14:41:09.766 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:41:09.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 1.1053ms
2023-07-16 14:41:10.064 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:41:10.070 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.3062ms
2023-07-16 14:41:17.922 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:41:17.923 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:41:17.927 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:41:17.927 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:41:17.927 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.6157ms
2023-07-16 14:41:17.927 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:41:17.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 12.7377ms
2023-07-16 14:41:19.266 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:41:19.268 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:41:19.268 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:41:19.269 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:41:19.269 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.3778ms
2023-07-16 14:41:19.269 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:41:19.269 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 3.2000ms
2023-07-16 14:41:20.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:41:20.876 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:41:20.876 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:41:20.877 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:41:20.878 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 1.072ms
2023-07-16 14:41:20.878 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:41:20.878 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 3.4330ms
2023-07-16 14:44:00.559 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:44:00.574 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 15.4255ms
2023-07-16 14:44:00.872 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:44:00.872 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2778ms
2023-07-16 14:44:01.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:44:01.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.5768ms
2023-07-16 14:44:13.985 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:44:13.985 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:44:13.992 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:44:14.109 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:44:14.112 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:44:14.113 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:44:14.118 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 125.4405ms
2023-07-16 14:44:14.118 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:44:14.118 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 133.4961ms
2023-07-16 14:44:26.117 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:44:26.119 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:44:26.121 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:44:26.121 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:44:26.121 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.6009ms
2023-07-16 14:44:26.121 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:44:26.122 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 4.1633ms
2023-07-16 14:44:27.442 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:44:27.443 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:44:27.443 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 14:44:27.444 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 14:44:27.444 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.5984ms
2023-07-16 14:44:27.444 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 14:44:27.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 1.9205ms
2023-07-16 14:46:17.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 14:46:17.592 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 23.1682ms
2023-07-16 14:46:18.042 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 14:46:18.042 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.1931ms
2023-07-16 14:46:18.671 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 14:46:18.680 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.6787ms
2023-07-16 14:46:23.721 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 14:46:23.723 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:46:23.730 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 14:46:23.741 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 14:46:23.748 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 14:46:23.749 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 14:46:23.754 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 23.6312ms
2023-07-16 14:46:23.754 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 14:46:23.754 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 32.8395ms
2023-07-16 14:46:32.467 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 14:46:32.470 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Editor)
2023-07-16 14:46:32.473 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 14:46:32.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 5.6046ms
2023-07-16 15:00:37.499 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 15:00:37.502 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Editor)
2023-07-16 15:00:37.503 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-16 15:00:37.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 403 0 - 4.0374ms
2023-07-16 15:00:47.048 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 15:00:47.062 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 13.6514ms
2023-07-16 15:00:47.704 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 15:00:47.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2425ms
2023-07-16 15:00:48.277 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 15:00:48.285 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.5339ms
2023-07-16 15:00:54.836 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 15:00:54.837 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:00:54.838 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 15:00:54.840 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 15:00:54.841 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 2.2271ms
2023-07-16 15:00:54.841 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:00:54.841 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 4.9637ms
2023-07-16 15:01:09.818 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 15:01:09.836 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 17.4340ms
2023-07-16 15:01:10.476 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 15:01:10.478 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 2.2773ms
2023-07-16 15:01:10.690 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 15:01:10.695 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.1893ms
2023-07-16 15:01:26.792 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 15:01:26.795 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:01:26.797 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 15:01:26.798 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 15:01:26.798 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.9694ms
2023-07-16 15:01:26.798 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:01:26.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 5.8943ms
2023-07-16 15:01:36.861 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 15:01:36.875 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 14.0066ms
2023-07-16 15:01:37.159 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 15:01:37.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.6158ms
2023-07-16 15:01:37.350 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 15:01:37.355 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.2838ms
2023-07-16 15:01:44.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 15:01:44.367 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:01:44.368 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 15:01:44.368 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 15:01:44.369 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.9121ms
2023-07-16 15:01:44.369 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:01:44.369 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 3.3993ms
2023-07-16 15:01:46.195 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 15:01:46.197 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:01:46.197 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 15:01:46.197 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 15:01:46.197 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.2045ms
2023-07-16 15:01:46.197 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:01:46.197 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 2.2080ms
2023-07-16 15:34:15.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 15:34:15.811 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:34:15.811 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 15:34:15.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 15:34:15.812 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.4705ms
2023-07-16 15:34:15.812 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 15:34:15.813 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 4.2410ms
2023-07-16 16:00:46.483 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 16:00:46.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 16.6643ms
2023-07-16 16:00:46.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 16:00:46.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.5521ms
2023-07-16 16:00:48.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 16:00:48.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.2243ms
2023-07-16 16:01:47.968 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 16:01:47.971 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 16:01:47.973 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 16:01:47.973 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 16:01:47.973 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.4991ms
2023-07-16 16:01:47.973 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 16:01:47.974 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 5.8541ms
2023-07-16 16:02:31.932 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 16:02:31.934 +07:00 [INF] Executing endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 16:02:31.934 +07:00 [INF] Route matched with {action = "Test", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Test() on controller Microservice.Controllers.TestController (Microservice).
2023-07-16 16:02:31.934 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-16 16:02:31.934 +07:00 [INF] Executed action Microservice.Controllers.TestController.Test (Microservice) in 0.4478ms
2023-07-16 16:02:31.934 +07:00 [INF] Executed endpoint 'Microservice.Controllers.TestController.Test (Microservice)'
2023-07-16 16:02:31.935 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 200 - text/plain;+charset=utf-8 2.5786ms
2023-07-16 16:10:45.445 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 16:10:45.466 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 19.9324ms
2023-07-16 16:10:46.349 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 16:10:46.349 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2460ms
2023-07-16 16:10:47.341 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 16:10:47.348 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.9641ms
2023-07-16 16:10:59.937 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 16:10:59.949 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 12.5281ms
2023-07-16 16:11:00.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 16:11:00.263 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2590ms
2023-07-16 16:11:00.540 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 16:11:00.544 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.8294ms
2023-07-16 16:11:31.985 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 16:11:32.004 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 18.8270ms
2023-07-16 16:11:32.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 16:11:32.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.6354ms
2023-07-16 16:11:33.470 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 16:11:33.475 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.0956ms
2023-07-16 16:11:39.292 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 16:11:39.292 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 16:11:39.298 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 16:11:39.481 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 16:11:39.486 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 16:11:39.486 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 16:11:39.491 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 192.6822ms
2023-07-16 16:11:39.491 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 16:11:39.492 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 199.9427ms
2023-07-16 16:11:50.152 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 16:11:50.158 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The AuthorizationPolicy named: 'AllRolesPolicy' was not found.
   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 16:11:50.176 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 500 - text/plain;+charset=utf-8 24.4059ms
2023-07-16 16:12:24.589 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - -
2023-07-16 16:12:24.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - - - 200 - text/html;charset=utf-8 14.5996ms
2023-07-16 16:12:25.184 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - -
2023-07-16 16:12:25.184 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/_framework/aspnetcore-browser-refresh.js - - - 200 11966 application/javascript;+charset=utf-8 0.2299ms
2023-07-16 16:12:25.667 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - -
2023-07-16 16:12:25.674 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.3642ms
2023-07-16 16:12:33.784 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5217/api/Login application/json 70
2023-07-16 16:12:33.784 +07:00 [INF] Executing endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 16:12:33.790 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Microservice.ViewModels.LoginViewModel) on controller Microservice.Controllers.UserController (Microservice).
2023-07-16 16:12:33.799 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__usernameLogin_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[Password], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__usernameLogin_0
2023-07-16 16:12:33.804 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__getInfoUser_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoleName]
FROM [Roles] AS [r]
WHERE [r].[Id_User] = @__getInfoUser_Id_0
2023-07-16 16:12:33.804 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[Microservice.Models.User, Microservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-16 16:12:33.808 +07:00 [INF] Executed action Microservice.Controllers.UserController.Login (Microservice) in 18.2178ms
2023-07-16 16:12:33.808 +07:00 [INF] Executed endpoint 'Microservice.Controllers.UserController.Login (Microservice)'
2023-07-16 16:12:33.808 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5217/api/Login application/json 70 - 200 - application/json;+charset=utf-8 24.8393ms
2023-07-16 16:12:44.021 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/api/Test application/json 65
2023-07-16 16:12:44.023 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The AuthorizationPolicy named: 'AllRolesPolicy' was not found.
   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-16 16:12:44.029 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/api/Test application/json 65 - 500 - text/plain;+charset=utf-8 8.5827ms
